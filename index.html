<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>مصمم إطار المناهج بالذكاء الاصطناعي</title>

    <link
      href="assets/vendor/bootstrap/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="assets/vendor/bootstrap-icons/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link href="assets/css/style.css" rel="stylesheet" />
  </head>
  <body>
    <div class="container mt-5">
      <header class="text-center mb-4">
        <h1>
          <i class="bi bi-magic" aria-label="أيقونة سحرية"></i> مصمم إطار
          المناهج بالذكاء الاصطناعي
        </h1>
        <p class="lead">
          تصميم إطار عمل المناهج الدراسية بخطوات مدعومة بالذكاء الاصطناعي
        </p>
      </header>

      <div id="progressWrapper" class="mb-4" style="display: none">
        <p id="progressLabel" class="text-muted mb-1">
          الخطوة الحالية: <span id="currentStepName"></span>
        </p>
        <div id="progressBar" class="progress">
          <div
            class="progress-bar progress-bar-striped progress-bar-animated"
            role="progressbar"
            style="width: 0%"
            aria-valuenow="0"
            aria-valuemin="0"
            aria-valuemax="100"
          ></div>
        </div>
      </div>

      <div id="step1" class="step-section card shadow-sm mb-4">
        <div class="card-header bg-primary text-white">
          <h2 class="h5 mb-0">
            <i class="bi bi-card-text" aria-hidden="true"></i> الخطوة 1: وصف
            الوظيفة
          </h2>
        </div>
        <div class="card-body">
          <div class="mb-3">
            <label for="specializationInfo" class="form-label"
              >معلومات عامة عن التخصص:</label
            >
            <textarea
              class="form-control"
              id="specializationInfo"
              rows="5"
              placeholder="أدخل تفاصيل حول تخصص الإلكترونيات والتصنيع..."
              aria-label="معلومات عامة عن التخصص"
            ></textarea>
          </div>

          <button
            type="button"
            class="btn btn-primary mt-2 mb-3"
            id="generateJobDescriptionBtn"
            aria-label="توليد وصف الوظيفة باستخدام GEMINI"
          >
            <i class="bi bi-robot" aria-hidden="true"></i> توليد وصف الوظيفة
            باستخدام GEMINI
            <span
              class="loader"
              style="display: none"
              aria-hidden="true"
            ></span>
          </button>

          <div class="mb-3">
            <label for="jobDescriptionOutput" class="form-label"
              >وصف الوظيفة:</label
            >
            <div
              class="form-control"
              id="jobDescriptionOutput"
              style="min-height: 150px; overflow-y: auto"
              aria-live="polite"
              aria-atomic="true"
              role="region"
            ></div>
          </div>

          <div class="my-3">
            <p class="mb-2">اختر وصف الوظيفة للمتابعة:</p>
            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="descriptionChoice"
                id="choiceGemini"
                value="gemini"
                checked
                aria-label="استخدام الوصف المُنشأ بواسطة GEMINI"
              />
              <label class="form-check-label" for="choiceGemini">
                استخدام الوصف المُنشأ بواسطة GEMINI
              </label>
            </div>
            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="descriptionChoice"
                id="choiceUser"
                value="user"
                aria-label="استخدام وصفي الخاص (المُدخل أعلاه)"
              />
              <label class="form-check-label" for="choiceUser">
                استخدام وصفي الخاص (المُدخل أعلاه)
              </label>
            </div>
          </div>

          <div class="d-flex justify-content-end mt-4">
            <button
              type="button"
              class="btn btn-info"
              id="step1NextBtn"
              onclick="showStepWithValidation(2)"
              aria-label="التالي إلى الخطوة 2"
            >
              التالي إلى الخطوة 2
              <i class="bi bi-arrow-left-circle-fill" aria-hidden="true"></i>
            </button>
          </div>
        </div>
      </div>

      <div
        id="step2"
        class="step-section card shadow-sm mb-4"
        style="display: none"
      >
        <div class="card-header bg-success text-white">
          <h2 class="h5 mb-0">
            <i class="bi bi-list-check" aria-hidden="true"></i> الخطوة 2:
            الأنشطة الرئيسية
          </h2>
        </div>
        <div class="card-body">
          <div class="mb-3">
            <label for="jobDescriptionDisplayStep2" class="form-label"
              >وصف الوظيفة المعتمد (من الخطوة 1):</label
            >
            <textarea
              class="form-control"
              id="jobDescriptionDisplayStep2"
              rows="6"
              readonly
              placeholder="سيتم عرض وصف الوظيفة المختار هنا..."
              aria-label="وصف الوظيفة المعتمد من الخطوة 1"
            ></textarea>
          </div>

          <button
            type="button"
            class="btn btn-primary mt-2 mb-3"
            id="generateActivitiesBtn"
            aria-label="توليد الأنشطة الرئيسية باستخدام GEMINI"
          >
            <i class="bi bi-robot" aria-hidden="true"></i> توليد الأنشطة
            الرئيسية باستخدام GEMINI
            <span
              class="loader"
              style="display: none"
              aria-hidden="true"
            ></span>
          </button>

          <div class="mb-3">
            <label class="form-label">الأنشطة الرئيسية المقترحة:</label>
            <div
              id="activitiesListContainer"
              class="list-group"
              style="
                max-height: 300px;
                overflow-y: auto;
                border: 1px solid #ced4da;
                border-radius: 0.25rem;
                padding: 10px;
              "
              aria-live="polite"
              aria-atomic="true"
              role="region"
            >
              <p class="text-muted">
                سيتم عرض الأنشطة المقترحة هنا كقائمة اختيار.
              </p>
            </div>
          </div>

          <div class="input-group mt-3 mb-3">
            <input
              type="text"
              class="form-control"
              id="customActivityInput"
              placeholder="إضافة نشاط مخصص..."
              aria-label="إضافة نشاط مخصص"
            />
            <button
              class="btn btn-outline-secondary"
              type="button"
              id="addCustomActivityBtn"
              aria-label="إضافة نشاط"
            >
              <i class="bi bi-plus-circle" aria-hidden="true"></i> إضافة نشاط
            </button>
          </div>

          <div class="d-flex justify-content-between mt-4">
            <button
              type="button"
              class="btn btn-secondary"
              id="step2PrevBtn"
              onclick="showStepWithValidation(1)"
              aria-label="السابق إلى الخطوة 1"
            >
              <i class="bi bi-arrow-right-circle-fill" aria-hidden="true"></i>
              السابق إلى الخطوة 1
            </button>
            <button
              type="button"
              class="btn btn-success"
              id="step2NextBtn"
              onclick="showStepWithValidation(3)"
              aria-label="التالي إلى الخطوة 3"
            >
              التالي إلى الخطوة 3
              <i class="bi bi-arrow-left-circle-fill" aria-hidden="true"></i>
            </button>
          </div>
        </div>
      </div>

      <div
        id="step3"
        class="step-section card shadow-sm mb-4"
        style="display: none"
      >
        <div class="card-header bg-warning text-dark">
          <h2 class="h5 mb-0">
            <i class="bi bi-tools" aria-hidden="true"></i> الخطوة 3: الجدارات
            والمهارات
          </h2>
        </div>
        <div class="card-body">
          <p class="text-muted">
            سيتم عرض محتوى الخطوة الثالثة الخاص بتحديد الجدارات والمهارات
            المطلوبة هنا.
          </p>
          <div class="d-flex justify-content-between mt-4">
            <button
              class="btn btn-secondary"
              onclick="showStepWithValidation(2)"
              aria-label="السابق إلى الخطوة 2"
            >
              <i class="bi bi-arrow-right-circle" aria-hidden="true"></i> السابق
            </button>
            <button
              class="btn btn-warning float-end"
              onclick="showStepWithValidation(4)"
              aria-label="التالي إلى الخطوة 4"
            >
              التالي <i class="bi bi-arrow-left-circle" aria-hidden="true"></i>
            </button>
          </div>
        </div>
      </div>

      <div
        id="step4"
        class="step-section card shadow-sm mb-4"
        style="display: none"
      >
        <div class="card-header bg-info text-white">
          <h2 class="h5 mb-0">
            <i class="bi bi-file-earmark-text" aria-hidden="true"></i> الخطوة 4:
            تجميع الإطار
          </h2>
        </div>
        <div class="card-body">
          <p class="text-muted">
            محتوى الخطوة الرابعة الخاص بتجميع إطار المنهج النهائي سيظهر هنا.
          </p>
          <button
            class="btn btn-secondary"
            onclick="showStepWithValidation(3)"
            aria-label="السابق إلى الخطوة 3"
          >
            <i class="bi bi-arrow-right-circle" aria-hidden="true"></i> السابق
          </button>
          <button
            class="btn btn-info float-end"
            onclick="compileFramework()"
            aria-label="تجميع الإطار النهائي"
          >
            تجميع <i class="bi bi-check-circle" aria-hidden="true"></i>
          </button>
        </div>
      </div>

      <footer class="mt-5 pt-4 border-top">
        <div class="row">
          <div class="col-md-6 offset-md-3">
            <h5 class="text-center mb-3">إعدادات مفتاح API</h5>
            <div class="input-group mb-3">
              <input
                type="password"
                id="apiKeyInput"
                class="form-control"
                placeholder="أدخل مفتاح API الخاص بك هنا..."
                aria-label="أدخل مفتاح API الخاص بك هنا"
              />
              <button
                class="btn btn-primary"
                type="button"
                id="saveApiKeyBtn"
                aria-label="حفظ مفتاح API"
              >
                <i class="bi bi-save" aria-hidden="true"></i> حفظ المفتاح
              </button>
            </div>
            <p
              id="apiKeyStatus"
              class="text-center small"
              aria-live="polite"
            ></p>
          </div>
        </div>
      </footer>
    </div>

    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/api.js"></script>
    <script src="assets/js/main.js"></script>
  </body>
</html>
